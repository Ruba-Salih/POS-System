{% extends "base.html" %}

{% block title %}Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª{% endblock %}

{% block content %}

<h2 class="mb-4">ğŸ’¸ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h2>

<!-- FILTER -->
<form method="get" class="row g-2 mb-4">
    <div class="col-md-3">
        <input type="date" name="day" class="form-control">
    </div>

    <div class="col-md-3">
        <input type="month" name="month" class="form-control">
    </div>

    <div class="col-md-2">
        <button class="btn btn-primary w-100">ÙÙ„ØªØ±Ø©</button>
    </div>

    <div class="col-md-4 text-end">
        <a href="{% url 'expenses:add' %}" class="btn btn-success">
            â• Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ
        </a>
    </div>
</form>

<h4 class="text-start">
    ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª:
    <strong>{{ total_expenses }}</strong>
</h4>

<table class="table table-bordered table-hover text-center align-middle">
    <thead class="table-light">
        <tr>
            <th>#</th>
            <th>Ø§Ù„ÙˆØµÙ</th>
            <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
            <th>Ø£Ø¶ÙŠÙ Ø¨ÙˆØ§Ø³Ø·Ø©</th>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
        </tr>
    </thead>

    <tbody>
    {% for expense in expenses %}
        <tr>
            <td>{{ expense.id }}</td>
            <td>{{ expense.description }}</td>
            <td>{{ expense.amount }}</td>
            <td>{{ expense.created_by.full_name|default:expense.created_by.username }}</td>
            <td>{{ expense.created_at|date:"Y-m-d H:i" }}</td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="5" class="text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØµØ±ÙˆÙØ§Øª</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
